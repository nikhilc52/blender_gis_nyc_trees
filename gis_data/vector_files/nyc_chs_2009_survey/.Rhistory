View(temps)
temps <- read.csv("/Users/nc7172/Downloads/Hyperlocal_Temperature_Monitoring_20240701.csv")
library(dplyr)
final_temps <- temps |>
group_by(Sensor.ID) |>
summarize(Latitude = first(Latitude),
Longitude = first(Longitude),
AirTemp = mean(AirTemp))
View(temps)
View(final_temps)
write.csv("tree_temperatures.csv", final_temps)
?write.csv
write.csv(file="tree_temperatures.csv", x=final_temps)
write.csv(file="/Users/nc7172/Downloads/tree_temperatures.csv", x=final_temps)
temps <- read.csv("/Users/nc7172/Downloads/Hyperlocal_Temperature_Monitoring_20240702.csv")
View(temps)
library(dplyr)
final_temps <- temps |>
filter(Latitude >= 40.69938) |>
filter(Latitude <= 40.76442) |>
filter(Longitude >= -74.02279) |>
filter(Longitude <= -73.96305) |>
group_by(Sensor.ID) |>
summarize(Latitude = first(Latitude),
Longitude = first(Longitude),
AirTemp = mean(AirTemp))
View(temps)
View(final_temps)
View(temps)
final_temps <- temps |>
#filter(Latitude >= 40.69938) |>
#filter(Latitude <= 40.76442) |>
#filter(Longitude >= -74.02279) |>
#filter(Longitude <= -73.96305) |>
group_by(Sensor.ID) |>
summarize(Latitude = first(Latitude),
Longitude = first(Longitude),
AirTemp = mean(AirTemp))
View(final_temps)
write.csv(file="/Users/nc7172/Downloads/tree_temperatures.csv", x=final_temps)
library(tidyverse)
df <- read_csv("/Users/nc7172/Downloads/bronx_manhattan_trees_nyc.csv")
View(df)
df <- read_csv("/Users/nc7172/Downloads/trees_full.csv")
View(df)
df <- read_csv("/Users/nc7172/Downloads/trees.csv ")
df <- read_csv("/Users/nc7172/Downloads/trees.csv")
View(df)
df <- read_csv("/Users/nc7172/Downloads/2015_Street_Tree_Census_-_Tree_Data_20240718.csv")
df <- read_csv("/Users/nc7172/Downloads/2015_Street_Tree_Census_-_Tree_Data_20240718.csv")
View(df)
data <- df |>
filter(status=="Dead")
View(data)
data <- df |>
filter(status=="Dead") |>
filter(borough%in%c("Manhattan","Bronx"))
View(data)
data <- df |>
filter(status=="Dead") |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n())
View(data)
dataD <- df |>
filter(status=="Dead") |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n())
library(tidyverse)
df <- read_csv("/Users/nc7172/Downloads/2015_Street_Tree_Census_-_Tree_Data_20240718.csv")
dataD <- df |>
filter(status=="Dead") |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n())
dataA <- df |>
filter(status=="Alive") |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n())
View(dataD)
View(dataA)
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = count("Dead"))
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = sum(status=="Dead"))
View(data)
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = sum(status=="Alive"),
countDead = sum(status=="Dead"))
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = count(status=="Alive"),
countDead = sum(status=="Dead"))
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = num(status=="Alive"),
countDead = sum(status=="Dead"))
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = sum(status=="Alive"),
countDead = sum(status=="Dead"))
library(tidyverse)
df <- read_csv("/Users/nc7172/Downloads/2015_Street_Tree_Census_-_Tree_Data_20240718.csv")
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = sum(status=="Alive"),
countDead = sum(status=="Dead"))
View(data)
data <- df |>
filter(borough%in%c("Manhattan","Bronx")) |>
group_by(nta_name) |>
summarize(count=n(),
countAlive = sum(status=="Alive"),
countDead = sum(status=="Dead"),
percentDead = countDead/count)
View(df)
library(dplyr)
#data from https://en.wikipedia.org/wiki/Race_and_ethnicity_in_New_York_City
df <- data.frame(race=c('White', 'Black', 'Asian', 'Other','Mixed'),
racial_compostion=c(29.9,35.6,3.0,25.7,5.8))
df |>
arrange(-racial_composion)
df |>
arrange(-racial_compostion)
df |>
arrange(-racial_compostion) |>
gt()
library(gt)
install.packages('gt')
library(gt)
df |>
arrange(-racial_compostion) |>
gt()
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race")
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center")
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_source_note("Data: Wikipedia")
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
/
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census")
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"))
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"), location = cells_title(groups="title"))
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals = 1
)
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion
)
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
df <- data.frame(race=c('White', 'Black', 'Asian', 'Other','Mixed'),
racial_compostion=c(.299,.356,.030,.257,.058))
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition (%)",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
library(dplyr)
library(gt)
#data from https://en.wikipedia.org/wiki/Race_and_ethnicity_in_New_York_City
df <- data.frame(race=c('White', 'Black', 'Asian', 'Other','Mixed'),
racial_compostion=c(.299,.356,.030,.257,.058))
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
print(table)
gtsave(table,"demographics.png",path="/Users/nc7172/Documents/GitHub/blender_gis_nyc_trees/video files")
?tab_style
location = cells_title(groups=c("title","cells_column_labels")) |>
)
)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups=c("title","cells_column_labels"))) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups=c("title",cells_column_labels()))) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups=c(cells_column_labels()))) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title()) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = c(cells_title(groups="title")),cells_column_labels()) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = c(cells_title(groups="title"),cells_column_labels())) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = c(cells_title(groups="title"),cells_column_labels())) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
tab_style(style=cell_fill(color"lightyellow"),
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
tab_style(style=list(cell_fill(color"lightyellow")),
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
tab_style(style=cell_fill(color"lightyellow"),
table <- df |>
arrange(-racial_compostion) |>
gt() |>
opt_align_table_header('center') |>
opt_table_font(font=list(google_font(name="Helvetica"))) |>
cols_label(racial_compostion="Racial Composition",race="Race") |>
cols_align("center") |>
tab_header(title="Racial Composition in the Bronx", subtitle="2000 Census") |>
tab_style(style=cell_text(size="bigger",weight="bold",transform="uppercase"),
location = cells_title(groups="title")) |>
tab_style(style=cell_fill(color="lightyellow"),
location = cells_body(rows= race=="Black")) |>
fmt_percent(
columns = racial_compostion,
decimals=1
)
print(table)
gtsave(table,"demographics.png",path="/Users/nc7172/Documents/GitHub/blender_gis_nyc_trees/video files")
library(sf)
shape <- read_sf(dsn = ".", layer = "SHAPEFILE")
setwd("~/Documents/GitHub/blender_gis_nyc_trees/vector files/nyc_chs_2009_survey")
shape <- read_sf("CHS_2009_DOHMH_2010.shp",layer = "SHAPEFILE")
shape <- read_sf("CHS_2009_DOHMH_2010B.shp",layer = "SHAPEFILE")
shape <- read_sf("CHS_2009_DOHMH_2010B.shp",layer = "SHAPEFILE")
shape <- read_sf("CHS_2009_DOHMH_2010B.shp")
View(shape)
df <- shape |>
filter(FIRST_BORO %in% c("Bronx","Manhattan"))
df <- shape |>
filter(FIRST_BORO == "Bronx")
View(shape)
shape <- as.data.frame(read_sf("CHS_2009_DOHMH_2010B.shp"))
df <- shape |>
filter(FIRST_BORO == "Bronx")
View(shape)
class(shape)
library(dplyr)
df <- shape |>
filter(FIRST_BORO == "Bronx")
View(shape)
View(df)
df <- shape |>
filter(FIRST_BORO %in% c("Bronx","Manhattan"))
View(df)
shape <- as.data.frame(read_sf("CHS_2009_DOHMH_2010B.shp"))
df <- shape |>
filter(FIRST_BORO %in% c("Bronx","Manhattan"))
View(shape)
df <- shape |>
filter(FIRST_BORO %in% c("Bronx","Man"))
View(df)
df <- shape |>
filter(FIRST_BORO %in% c("Bronx","Man")) |>
select(FIRST_BORO, FIRST_UHF_, exercs2)
View(table)
View(df)
View(df)
